r = 1
pdf <- function(t) {
(lamb * r) ^ r / factorial(r - 1) * e ^ (- lamb * r * t) * t ^ (r-1)
}
plot(pdf(1:1000), type='l')
# 4.11
lamb = 1
r = 1
pdf <- function(t) {
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * t) * t ^ (r-1)
}
plot(pdf(1:1000), type='l')
lamb = 1
r = 1
pdf <- function(t) {
return (lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * t) * t ^ (r-1)
}
plot(pdf(1:1000), type='l')
# 4.11
lamb = 1
r = 1
pdf <- function(x) {
return (lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
# plot(pdf(1:1000), type='l')
curve(pdf(x), from=1, to=50, xlab="x", ylab="y")
lamb = 1
r = 1
pdf <- function(x) {
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
# plot(pdf(1:1000), type='l')
curve(pdf(x), from=1, to=50, xlab="x", ylab="y")
# 4.11
library("ggplot2")
lamb = 1
r = 1
pdf <- function(x) {
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
# plot(pdf(1:1000), type='l')
# curve(pdf(x), from=1, to=50, xlab="x", ylab="y")
qplot(c(1,50), fun=pdf, stat="function", geom="line", xlab="x", ylab="y")
?qplot
# 4.11
library("ggplot2")
lamb = 1
r = 1
pdf <- function(x) {
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
plot(pdf, 1, 100)
# 4.11
library("ggplot2")
eq = function(x){x*x}
curve(eq, from=1, to=50, xlab="x", ylab="y")
> eq = function(x){x*x}
> plot(eq(1:1000), type='l')
eq = function(x){x*x}
plot(eq(1:1000), type='l')
eq = function(x){x*x}
curve(eq, from=1, to=50, xlab="x", ylab="y")
# 4.11
library("ggplot2")
lamb = 1
r = 1
pdf <- function(x) {
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
plot(pdf, 1, 100)
plot(pdf, 1, 100)
# 4.11
library("ggplot2")
lamb = 1
r = 1
pdf <- function(x) {
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
par(mfrow=c(2,2))
plot(pdf, 1, 100)
par(mfrow=c(1,1))
par(mfrow=c(1,1))
plot(pdf, 1, 100, main="r = 1")
plot(pdf, 1, 100, main="r = 1")
par(new=TRUE)
plot(pdf, 1, 100, main="r = 1")
plot(pdf1, 1, 100, main='4.11 plot')
lines(pdf2, type='l')
# 4.11
lamb = 1
pdf1 <- function(x) {
r = 1
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf2 <- function(x) {
r = 2
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf4 <- function(x) {
r = 4
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf8 <- function(x) {
r = 8
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf16 <- function(x) {
r = 16
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
plot(pdf1, 1, 100, main='4.11 plot')
lines(pdf2, type='l')
# 4.11
lamb = 1
pdf1 <- function(x) {
r = 1
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf2 <- function(x) {
r = 2
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf4 <- function(x) {
r = 4
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf8 <- function(x) {
r = 8
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf16 <- function(x) {
r = 16
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
plot(pdf1, 1, 100, main='4.11 plot')
lines(pdf2, type='l', col="red")
x = seq(1, 100)
plot(x, pdf1, type='l', col="blue")
lines(pdf2, type='l', col="red")
x = seq(1, 100)
plot(x, pdf1, type='l', col="blue")
lines(x, pdf2, type='l', col="red")
x = seq(1, 100)
plot(pdf1(x), type='l', col="blue")
lines(pdf2(x), type='l', col="red")
x = seq(1, 100)
plot(pdf1(x), type='l', col="blue")
lines(pdf2(x), type='l', col="red")
lines(pdf4(x), type='l', col="orange")
lines(pdf8(x), type='l', col="yellow")
lines(pdf16(x), type='l', col="black")
x = seq(1, 10)
plot(pdf1(x), type='l', col="blue")
lines(pdf2(x), type='l', col="red")
lines(pdf4(x), type='l', col="orange")
lines(pdf8(x), type='l', col="yellow")
lines(pdf16(x), type='l', col="black")
x = seq(1, 10, by=0.01)
plot(pdf1(x), type='l', col="blue")
lines(pdf2(x), type='l', col="red")
lines(pdf4(x), type='l', col="orange")
lines(pdf8(x), type='l', col="yellow")
lines(pdf16(x), type='l', col="black")
x = seq(1, 10, by=0.01)
plot(pdf1(x), type='l', col="blue")
lines(pdf2(x), type='l', col="red")
lines(pdf4(x), type='l', col="orange")
lines(pdf8(x), type='l', col="yellow")
lines(pdf16(x), type='l', col="black")
legend(1, 95, legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'))
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue")
lines(pdf2(x), type='l', col="red")
lines(pdf4(x), type='l', col="orange")
lines(pdf8(x), type='l', col="yellow")
lines(pdf16(x), type='l', col="black")
legend(1, 95, legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'))
lines(pdf2(x), type='l', col="red")
lines(pdf4(x), type='l', col="orange")
lines(pdf8(x), type='l', col="yellow")
lines(pdf16(x), type='l', col="black")
legend(1, 95, legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'))
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="yellow")
lines(x, pdf16(x), type='l', col="black")
legend(1, 95, legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'))
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="yellow")
lines(x, pdf16(x), type='l', col="black")
legend(1, 95, legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "yellow", "black"))
legend(1, 95, legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "yellow", "black"),
lty=1:2, cex=0.8)
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="yellow")
lines(x, pdf16(x), type='l', col="black")
legend(1, 95, legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "yellow", "black"),
lty=1:2, cex=0.8)
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue", ylab="y")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="yellow")
lines(x, pdf16(x), type='l', col="black")
legend(1, 95, legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "yellow", "black"),
lty=1:2, cex=0.8)
# 4.11
lamb = 1
pdf1 <- function(x) {
r = 1
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf2 <- function(x) {
r = 2
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf4 <- function(x) {
r = 4
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf8 <- function(x) {
r = 8
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf16 <- function(x) {
r = 16
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue", ylab="y")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="yellow")
lines(x, pdf16(x), type='l', col="black")
legend("topright",
legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "yellow", "black"),
)
# 4.11
lamb = 1
pdf1 <- function(x) {
r = 1
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf2 <- function(x) {
r = 2
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf4 <- function(x) {
r = 4
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf8 <- function(x) {
r = 8
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf16 <- function(x) {
r = 16
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue", ylab="y")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="yellow")
lines(x, pdf16(x), type='l', col="black")
legend("topright",
legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "yellow", "black")
)
legend("topright",
legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "yellow", "black")
cex=0.8
)
legend("topright",
legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "yellow", "black"),
cex=0.8
)
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue", ylab="y")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="yellow")
lines(x, pdf16(x), type='l', col="black")
legend("topright",
legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "yellow", "black"),
cex=0.8
)
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue", ylab="y")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="yellow")
lines(x, pdf16(x), type='l', col="black")
legend("topright",
legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "yellow", "black"),
lty=1:5
cex=0.8
)
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue", ylab="y")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="yellow")
lines(x, pdf16(x), type='l', col="black")
legend("topright",
legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "yellow", "black"),
lty=1:5,
cex=0.8
)
# 4.11
lamb = 1
pdf1 <- function(x) {
r = 1
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf2 <- function(x) {
r = 2
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf4 <- function(x) {
r = 4
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf8 <- function(x) {
r = 8
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
pdf16 <- function(x) {
r = 16
(lamb * r) ^ r / factorial(r - 1) * exp(1) ^ (- lamb * r * x) * x ^ (r-1)
}
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue", ylab="y")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="purple")
lines(x, pdf16(x), type='l', col="black")
legend("topright",
legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "purple", "black"),
lty=1:5,
cex=0.8
)
legend("topright",
legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "purple", "black"),
lty=1:5,
cex=1
)
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue", ylab="y")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="purple")
lines(x, pdf16(x), type='l', col="black")
legend("topright",
legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "purple", "black"),
lty=1,
cex=1
)
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue", ylab="y", main="4.11 part(d) plot")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="purple")
lines(x, pdf16(x), type='l', col="black")
legend("topright",
legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "purple", "black"),
lty=1,
cex=1
)
x = seq(1, 10, by=0.01)
plot(x, pdf1(x), type='l', col="blue", ylab="pdf", main="4.11 part(d) plot")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="purple")
lines(x, pdf16(x), type='l', col="black")
legend("topright",
legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "purple", "black"),
lty=1,
cex=1
)
x = seq(1, 6, by=0.01)
plot(x, pdf1(x), type='l', col="blue", ylab="pdf", main="4.11 part(d) plot")
lines(x, pdf2(x), type='l', col="red")
lines(x, pdf4(x), type='l', col="orange")
lines(x, pdf8(x), type='l', col="purple")
lines(x, pdf16(x), type='l', col="black")
legend("topright",
legend=c('r=1', 'r=2', 'r=4', 'r=8', 'r=16'),
col=c("blue", "red", "orange", "purple", "black"),
lty=1,
cex=1
)
library(dplyr)
library(ggplot2)
library(foreach)
library(tidyverse)
library(data.table)
#set this to your own working directory
setwd("~/Desktop/UHN/cardiovas/data_prep_angeline")
# configure these variables to load and save proper files
# organ_list = c("li", "in", "kp", "ki", "pa", "hl", "hr", "lu")
organ = "li"
linked_organ = "liin"
ori_file_txf = paste("data/txf_", organ, ".txt", sep="")
ori_file_tx = paste("data/tx_", organ, ".txt", sep="")
ori_file_cand = paste("data/cand_", linked_organ, ".txt", sep="")
# load the original plain text files
txf_li_prev = read.csv(ori_file_txf, header = T, sep = "|", stringsAsFactors = F, na.strings = "None",
quote = "")
tx_li_prev = read.csv(ori_file_tx, header = T, sep = "|", stringsAsFactors = F, na.strings = "None",
quote = "")
cand = read.csv(ori_file_cand, header = T, sep = "|", stringsAsFactors = F, na.strings = "None",
quote = "")
setwd("~/Desktop/UHN/cardiovas/data_prep_angeline")
setwd("~/Desktop/UHN/cardiovas/data_prep_angeline")
setwd("~/Desktop/UHN/cardiovas/data_prep_angeline")
library(dplyr)
library(ggplot2)
library(foreach)
library(tidyverse)
library(data.table)
library(viridis)
setwd("~/Desktop/Team-ZeroLoss/data/hydrated_data_ieee/final_data")
data = read.csv("shallow_processed_with_prediction.csv")
data$date = gsub("Mar ", "03-", data$date)
data$date = gsub("Apr ", "04-", data$date)
data$date = gsub("May ", "05-", data$date)
data$date = gsub("Jun ", "06-", data$date)
data$year = substring(data$user.created_at, 26, 30)
data = data %>% mutate(predicted_sentiment_indice = case_when(predicted_sentiment_indice == 0 ~ "Negative",
predicted_sentiment_indice == 1 ~ "Neutral",
predicted_sentiment_indice == 2 ~ "Positive"))
data = data %>% mutate(textblob_hard = case_when(sentiment_score > 0 ~ 2,
sentiment_score == 0 ~ 1,
sentiment_score < 0 ~ 0))
setwd("~/Desktop/Team-ZeroLoss/result")
# followers_count
data$follower_range <- cut(data$retweet_count, breaks=c(-1, 500, 5000, 20000, 50000, 200000, 500000, Inf))
follower_stats = data %>% group_by(follower_range, predicted_sentiment_indice) %>% summarise(n=n())  %>% mutate(freq=n/sum(n))
theme_set(theme_classic())
gg5 <- ggplot(data=follower_stats, aes(x=follower_range, y=freq, group=predicted_sentiment_indice, fill=predicted_sentiment_indice)) +
geom_bar(stat="identity", position="dodge") +
theme(axis.text.x = element_text(angle=65, vjust=0.6))+
labs(title="Sentiment by user.folowers_count") +
guides(fill=guide_legend("predicted sentiment")) +
ylab("class fraction within the group")
plot(gg5)
follower_stats
data$follower_range
unique(data$follower_range)
follower_stats
data[data$follower_range==(5e+05,Inf]]
data[data$follower_range=="(5e+05,Inf]"]
table(data$follower_range)
# created_at
year_stats = data %>% group_by(year, predicted_sentiment_indice) %>% summarise(n=n()) %>% mutate(freq=n/sum(n))
theme_set(theme_classic())
gg4 <- ggplot(data=year_stats, aes(x=year, y=freq, group=predicted_sentiment_indice, fill=predicted_sentiment_indice)) +
geom_bar(stat="identity", position="dodge") +
theme(axis.text.x = element_text(angle=65, vjust=0.6))+
labs(title="Sentiment by user.created_at") +
guides(fill=guide_legend("predicted sentiment")) +
ylab("class fraction within the group")
plot(gg4)
year_stats
year_stats = year_stats[year!="1970",]
year_stats = year_stats[year_stats$year!="1970",]
year_stats
year_stats[year_stats$year!="1970",]
year_stats[year_stats$year!="1970"]
year_stats[3:end]
year_stats[3:]
year_stats[3:, ]
year_stats[3, ]
year_stats[2, ]
year_stats[-1,]
year_stats[-1,]
year_stats
year_stats[-2,]
year_stats = year_stats[-1,][-1,]
year_stats
theme_set(theme_classic())
gg4 <- ggplot(data=year_stats, aes(x=year, y=freq, group=predicted_sentiment_indice, fill=predicted_sentiment_indice)) +
geom_bar(stat="identity", position="dodge") +
theme(axis.text.x = element_text(angle=65, vjust=0.6))+
labs(title="Sentiment by user.created_at") +
guides(fill=guide_legend("predicted sentiment")) +
ylab("class fraction within the group")
plot(gg4)
